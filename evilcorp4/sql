CREATE TABLE ACCOUNT (
    ACCOUNT_ID INTEGER NOT NULL PRIMARY KEY,
    ACCOUNT_NAME VARCHAR(50),
    ACCOUNT_NUM VARCHAR(50),
    STATUS INTEGER
);

CREATE TABLE ACCOUNTHOLDER (
    CUSTOMER_ID INTEGER NOT NULL PRIMARY KEY,
    CUSTOMER_NAME VARCHAR(50),
    CUSTOMER_BIRTH VARCHAR(50)
);

CREATE TABLE TRANSACTION_TYPE (
    TYPE INTEGER  PRIMARY KEY,
    DESCRIPTION VARCHAR(50)
    );
    

CREATE TABLE ACCOUNT_TYPE (
    TYPE INTEGER  PRIMARY KEY,
    DESCRIPTION VARCHAR(50)
    );
insert into ACCOUNT_TYPE(type,description)values(1,'CHECKING');
insert into ACCOUNT_TYPE(type,description)values(2,'SAVINGS');
insert into ACCOUNT_TYPE(type,description)values(3,'MONEY MARKET');

CREATE SEQUENCE  SEQ_ACCOUNT
MINVALUE 1
START WITH 1
INCREMENT BY 1
CACHE 10;
   
CREATE SEQUENCE  SEQ_TRANSACTION
MINVALUE 1
START WITH 1
INCREMENT BY 1
CACHE 10;

   
CREATE SEQUENCE  SEQ_ACCOUNTHOLDER
MINVALUE 1
START WITH 1
INCREMENT BY 1
CACHE 10;   
   
CREATE TABLE TRANSACTION (
    TRANSACTION_ID INTEGER NOT NULL PRIMARY KEY,
    TYPE INTEGER,
    FOREIGN KEY (TYPE) REFERENCES TRANSACTION_TYPE,
    ACCOUNT_ID INTEGER,
    FOREIGN KEY ( ACCOUNT_ID) REFERENCES ACCOUNT,
    AMOUNT NUMBER(9,2),
    TRANSACTION_DATE DATE,
    STATUS INTEGER
    
);

select * from account;
delete from account where ACCOUNT_ID=1;
drop table transaction;
drop table account;


SELECT SEQ_TRANSACTION.NEXTVAL FROM DUAL;

insert into TRANSACTION_TYPE(type,description)values(001,'DEPOSIT');
insert into TRANSACTION_TYPE(type,description)values(002,'CHECK');
insert into TRANSACTION_TYPE(type,description)values(003,'CREDIT CARD');
insert into TRANSACTION_TYPE(type,description)values(004,'DEBIT CARD');

SELECT*FROM TRANSACTION_TYPE;

alter table transaction drop column status;

insert into transaction (ACCOUNT_ID, TRANSACTION_ID, amount) values (2,1,500);
delete from transaction where transaction_id = 1;

ALTER TABLE ACCOUNT ADD FOREIGN KEY(TYPE)
 REFERENCES ACCOUNT_TYPE(TYPE);
 
 ALTER TABLE TRANSACTION ADD TRANSACTION_DATE VARCHAR(50);
 select Amount, Transaction_Date, Description from transaction, transaction_type where Account_Id =4 AND transaction.type = transaction_type.type;
select * from account_type;
delete from account;
select * from transaction where account_id = 5;

insert into ACCOUNT(ACCOUNT_ID,ACCOUNT_NAME,ACCOUNT_NUM,type)values(SEQ_ACCOUNT.NEXTVAL,'Barney','77',1);
insert into ACCOUNT(ACCOUNT_ID,ACCOUNT_NAME,ACCOUNT_NUM,type)values(SEQ_ACCOUNT.NEXTVAL,'Charizard','81',1);
insert into ACCOUNT(ACCOUNT_ID,ACCOUNT_NAME,ACCOUNT_NUM,type)values(SEQ_ACCOUNT.NEXTVAL,'Super Saiyan','18',3);
insert into ACCOUNT(ACCOUNT_ID,ACCOUNT_NAME,ACCOUNT_NUM,type)values(SEQ_ACCOUNT.NEXTVAL,'Oscar the Grouch','30',2);
update account set status = 1;

insert into TRANSACTION(ACCOUNT_ID,TRANSACTION_ID,TRANSACTION_DATE,type,AMOUNT)values(10,SEQ_TRANSACTION.NEXTVAL,'08/01/2015',4,-34);
insert into TRANSACTION(ACCOUNT_ID,TRANSACTION_ID,TRANSACTION_DATE,type,AMOUNT)values(8,SEQ_TRANSACTION.NEXTVAL,'08/02/2015',1,1200);
insert into TRANSACTION(ACCOUNT_ID,TRANSACTION_ID,TRANSACTION_DATE,type,AMOUNT)values(10,SEQ_TRANSACTION.NEXTVAL,'08/02/2015',2,-45);
insert into TRANSACTION(ACCOUNT_ID,TRANSACTION_ID,TRANSACTION_DATE,type,AMOUNT)values(9,SEQ_TRANSACTION.NEXTVAL,'08/03/2015',1,0.12);
insert into TRANSACTION(ACCOUNT_ID,TRANSACTION_ID,TRANSACTION_DATE,type,AMOUNT)values(10,SEQ_TRANSACTION.NEXTVAL,'08/03/2015',3,-0.05);

delete from TRANSACTION;
ALTER TABLE ACCOUNT ADD BALANCE NUMBER(9,2);
ALTER TABLE ACCOUNT ADD CUSTOMER_ID INTEGER;
ALTER TABLE ACCOUNT ADD FOREIGN KEY(customer_id)
 REFERENCES ACCOUNTHOLDER (customer_id);
alter table accountholder add ID VARCHAR(20);